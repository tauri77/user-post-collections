!function(){var t={253:function(){!function(t){function e(e){return[...e.children().map((function(){return t(this).data("pid")}))].join(",")}function n(t,e){if(!t.data)return;const n=parseInt(t.data.vote_counter,10),i=e.find(".mg-upc-item-vote");e.data("votes",n),t.data.can_vote?i.show():i.animate({width:0,padding:0,opacity:0},200,(function(){i.remove()})),t.data.posts.forEach((function(t){const i=e.find(".mg-upc-item[data-pid="+t.post_id+"]").find(".mg-upc-votes"),o=parseInt(t.votes,10),s=n>0?Math.round(1e3*o/n)/10:0;i.find(".item-votes-number").html(o),i.find(".item-percent").html(s+"%"),i.find(".item-bar-progress").animate({width:s+"%"}),i.show()}))}function i(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";const i=t("<div>").addClass("mg-upc-alert mg-upc-alert-"+n);i.append(t("<p>").html(e));const o=t('<a href="#">X</a>').addClass("mg-upc-alert-close").on("click",(function(){return i.remove(),!1}));return i.append(o),i}t(".mg-upc-item-vote").on("click",(function(){const o=t(this).data("vote").split(",");if(2===o.length){let s=t(this).parents(".mg-upc-item"),a=s.parent();const l=a.find(".mg-upc-item-vote").attr("disabled",!0);mgUpcApiClient.vote(o[0],o[1],{context:"web",posts:e(a)}).then((function(t){n(t,a)})).catch((function(t){l.attr("disabled",!1),t.response.data.message&&s.append(i(t.response.data.message))}))}})),t((function(){t(".mg-upc-vote").each((function(){const o=t(this),s=o.find(".mg-upc-items-container"),a=o.data("id");mgUpcApiClient.vote(a,0,{context:"web",posts:e(s)}).then((function(t){n(t,s)})).catch((function(t){t.response.data.message&&s.before(i(t.response.data.message))}))}))}))}(jQuery)}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,n),s.exports}!function(){"use strict";var t,e,i,o,s,a,l,r={},c=[],u=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function d(t,e){for(var n in e)t[n]=e[n];return t}function p(t){var e=t.parentNode;e&&e.removeChild(t)}function _(e,n,i){var o,s,a,l={};for(a in n)"key"==a?o=n[a]:"ref"==a?s=n[a]:l[a]=n[a];if(arguments.length>2&&(l.children=arguments.length>3?t.call(arguments,2):i),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===l[a]&&(l[a]=e.defaultProps[a]);return f(e,l,o,s,null)}function f(t,n,o,s,a){var l={type:t,props:n,key:o,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==a?++i:a};return null==a&&null!=e.vnode&&e.vnode(l),l}function m(t){return t.children}function h(t,e){this.props=t,this.context=e}function g(t,e){if(null==e)return t.__?g(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?g(t):null}function v(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return v(t)}}function y(t){(!t.__d&&(t.__d=!0)&&o.push(t)&&!b.__r++||a!==e.debounceRendering)&&((a=e.debounceRendering)||s)(b)}function b(){for(var t;b.__r=o.length;)t=o.sort((function(t,e){return t.__v.__b-e.__v.__b})),o=[],t.some((function(t){var e,n,i,o,s,a;t.__d&&(s=(o=(e=t).__v).__e,(a=e.__P)&&(n=[],(i=d({},o)).__v=o.__v+1,A(a,o,i,e.__n,void 0!==a.ownerSVGElement,null!=o.__h?[s]:null,n,null==s?g(o):s,o.__h),E(n,o),o.__e!=s&&v(o)))}))}function w(t,e,n,i,o,s,a,l,u,d){var p,_,h,v,y,b,w,k=i&&i.__k||c,x=k.length;for(n.__k=[],p=0;p<e.length;p++)if(null!=(v=n.__k[p]=null==(v=e[p])||"boolean"==typeof v?null:"string"==typeof v||"number"==typeof v||"bigint"==typeof v?f(null,v,null,null,v):Array.isArray(v)?f(m,{children:v},null,null,null):v.__b>0?f(v.type,v.props,v.key,null,v.__v):v)){if(v.__=n,v.__b=n.__b+1,null===(h=k[p])||h&&v.key==h.key&&v.type===h.type)k[p]=void 0;else for(_=0;_<x;_++){if((h=k[_])&&v.key==h.key&&v.type===h.type){k[_]=void 0;break}h=null}A(t,v,h=h||r,o,s,a,l,u,d),y=v.__e,(_=v.ref)&&h.ref!=_&&(w||(w=[]),h.ref&&w.push(h.ref,null,v),w.push(_,v.__c||y,v)),null!=y?(null==b&&(b=y),"function"==typeof v.type&&v.__k===h.__k?v.__d=u=P(v,u,t):u=N(t,v,h,k,y,u),"function"==typeof n.type&&(n.__d=u)):u&&h.__e==u&&u.parentNode!=t&&(u=g(h))}for(n.__e=b,p=x;p--;)null!=k[p]&&("function"==typeof n.type&&null!=k[p].__e&&k[p].__e==n.__d&&(n.__d=g(i,p+1)),D(k[p],k[p]));if(w)for(p=0;p<w.length;p++)T(w[p],w[++p],w[++p])}function P(t,e,n){for(var i,o=t.__k,s=0;o&&s<o.length;s++)(i=o[s])&&(i.__=t,e="function"==typeof i.type?P(i,e,n):N(n,i,i,o,i.__e,e));return e}function k(t,e){return e=e||[],null==t||"boolean"==typeof t||(Array.isArray(t)?t.some((function(t){k(t,e)})):e.push(t)),e}function N(t,e,n,i,o,s){var a,l,r;if(void 0!==e.__d)a=e.__d,e.__d=void 0;else if(null==n||o!=s||null==o.parentNode)t:if(null==s||s.parentNode!==t)t.appendChild(o),a=null;else{for(l=s,r=0;(l=l.nextSibling)&&r<i.length;r+=2)if(l==o)break t;t.insertBefore(o,s),a=s}return void 0!==a?a:o.nextSibling}function x(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]=null==n?"":"number"!=typeof n||u.test(e)?n:n+"px"}function C(t,e,n,i,o){var s;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof i&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||x(t.style,e,"");if(n)for(e in n)i&&n[e]===i[e]||x(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?i||t.addEventListener(e,s?S:I,s):t.removeEventListener(e,s?S:I,s);else if("dangerouslySetInnerHTML"!==e){if(o)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"==typeof n||(null!=n&&(!1!==n||"a"===e[0]&&"r"===e[1])?t.setAttribute(e,n):t.removeAttribute(e))}}function I(t){this.l[t.type+!1](e.event?e.event(t):t)}function S(t){this.l[t.type+!0](e.event?e.event(t):t)}function A(t,n,i,o,s,a,l,r,c){var u,p,_,f,g,v,y,b,P,k,N,x=n.type;if(void 0!==n.constructor)return null;null!=i.__h&&(c=i.__h,r=n.__e=i.__e,n.__h=null,a=[r]),(u=e.__b)&&u(n);try{t:if("function"==typeof x){if(b=n.props,P=(u=x.contextType)&&o[u.__c],k=u?P?P.props.value:u.__:o,i.__c?y=(p=n.__c=i.__c).__=p.__E:("prototype"in x&&x.prototype.render?n.__c=p=new x(b,k):(n.__c=p=new h(b,k),p.constructor=x,p.render=O),P&&P.sub(p),p.props=b,p.state||(p.state={}),p.context=k,p.__n=o,_=p.__d=!0,p.__h=[]),null==p.__s&&(p.__s=p.state),null!=x.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=d({},p.__s)),d(p.__s,x.getDerivedStateFromProps(b,p.__s))),f=p.props,g=p.state,_)null==x.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==x.getDerivedStateFromProps&&b!==f&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(b,k),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(b,p.__s,k)||n.__v===i.__v){p.props=b,p.state=p.__s,n.__v!==i.__v&&(p.__d=!1),p.__v=n,n.__e=i.__e,n.__k=i.__k,n.__k.forEach((function(t){t&&(t.__=n)})),p.__h.length&&l.push(p);break t}null!=p.componentWillUpdate&&p.componentWillUpdate(b,p.__s,k),null!=p.componentDidUpdate&&p.__h.push((function(){p.componentDidUpdate(f,g,v)}))}p.context=k,p.props=b,p.state=p.__s,(u=e.__r)&&u(n),p.__d=!1,p.__v=n,p.__P=t,u=p.render(p.props,p.state,p.context),p.state=p.__s,null!=p.getChildContext&&(o=d(d({},o),p.getChildContext())),_||null==p.getSnapshotBeforeUpdate||(v=p.getSnapshotBeforeUpdate(f,g)),N=null!=u&&u.type===m&&null==u.key?u.props.children:u,w(t,Array.isArray(N)?N:[N],n,i,o,s,a,l,r,c),p.base=n.__e,n.__h=null,p.__h.length&&l.push(p),y&&(p.__E=p.__=null),p.__e=!1}else null==a&&n.__v===i.__v?(n.__k=i.__k,n.__e=i.__e):n.__e=L(i.__e,n,i,o,s,a,l,c);(u=e.diffed)&&u(n)}catch(t){n.__v=null,(c||null!=a)&&(n.__e=r,n.__h=!!c,a[a.indexOf(r)]=null),e.__e(t,n,i)}}function E(t,n){e.__c&&e.__c(n,t),t.some((function(n){try{t=n.__h,n.__h=[],t.some((function(t){t.call(n)}))}catch(t){e.__e(t,n.__v)}}))}function L(e,n,i,o,s,a,l,c){var u,d,_,f=i.props,m=n.props,h=n.type,v=0;if("svg"===h&&(s=!0),null!=a)for(;v<a.length;v++)if((u=a[v])&&"setAttribute"in u==!!h&&(h?u.localName===h:3===u.nodeType)){e=u,a[v]=null;break}if(null==e){if(null===h)return document.createTextNode(m);e=s?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,m.is&&m),a=null,c=!1}if(null===h)f===m||c&&e.data===m||(e.data=m);else{if(a=a&&t.call(e.childNodes),d=(f=i.props||r).dangerouslySetInnerHTML,_=m.dangerouslySetInnerHTML,!c){if(null!=a)for(f={},v=0;v<e.attributes.length;v++)f[e.attributes[v].name]=e.attributes[v].value;(_||d)&&(_&&(d&&_.__html==d.__html||_.__html===e.innerHTML)||(e.innerHTML=_&&_.__html||""))}if(function(t,e,n,i,o){var s;for(s in n)"children"===s||"key"===s||s in e||C(t,s,null,n[s],i);for(s in e)o&&"function"!=typeof e[s]||"children"===s||"key"===s||"value"===s||"checked"===s||n[s]===e[s]||C(t,s,e[s],n[s],i)}(e,m,f,s,c),_)n.__k=[];else if(v=n.props.children,w(e,Array.isArray(v)?v:[v],n,i,o,s&&"foreignObject"!==h,a,l,a?a[0]:i.__k&&g(i,0),c),null!=a)for(v=a.length;v--;)null!=a[v]&&p(a[v]);c||("value"in m&&void 0!==(v=m.value)&&(v!==e.value||"progress"===h&&!v||"option"===h&&v!==f.value)&&C(e,"value",v,f.value,!1),"checked"in m&&void 0!==(v=m.checked)&&v!==e.checked&&C(e,"checked",v,f.checked,!1))}return e}function T(t,n,i){try{"function"==typeof t?t(n):t.current=n}catch(t){e.__e(t,i)}}function D(t,n,i){var o,s;if(e.unmount&&e.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||T(o,null,n)),null!=(o=t.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(t){e.__e(t,n)}o.base=o.__P=null}if(o=t.__k)for(s=0;s<o.length;s++)o[s]&&D(o[s],n,"function"!=typeof t.type);i||null==t.__e||p(t.__e),t.__e=t.__d=void 0}function O(t,e,n){return this.constructor(t,n)}function W(n,i,o){var s,a,l;e.__&&e.__(n,i),a=(s="function"==typeof o)?null:o&&o.__k||i.__k,l=[],A(i,n=(!s&&o||i).__k=_(m,null,[n]),a||r,r,void 0!==i.ownerSVGElement,!s&&o?[o]:a?null:i.firstChild?t.call(i.childNodes):null,l,!s&&o?o:a?a.__e:i.firstChild,s),E(l,n)}t=c.slice,e={__e:function(t,e,n,i){for(var o,s,a;e=e.__;)if((o=e.__c)&&!o.__)try{if((s=o.constructor)&&null!=s.getDerivedStateFromError&&(o.setState(s.getDerivedStateFromError(t)),a=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(t,i||{}),a=o.__d),a)return o.__E=o}catch(e){t=e}throw t}},i=0,h.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=d({},this.state),"function"==typeof t&&(t=t(d({},n),this.props)),t&&d(n,t),null!=t&&this.__v&&(e&&this.__h.push(e),y(this))},h.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),y(this))},h.prototype.render=m,o=[],s="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,b.__r=0,l=0;var R,H,U,$=0,M=[],j=e.__b,F=e.__r,B=e.diffed,V=e.__c,X=e.unmount;function z(t,n){e.__h&&e.__h(H,t,$||n),$=0;var i=H.__H||(H.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({}),i.__[t]}function q(t){return $=1,K(ot,t)}function K(t,e,n){var i=z(R++,2);return i.t=t,i.__c||(i.__=[n?n(e):ot(void 0,e),function(t){var e=i.t(i.__[0],t);i.__[0]!==e&&(i.__=[e,i.__[1]],i.__c.setState({}))}],i.__c=H),i.__}function G(t,n){var i=z(R++,3);!e.__s&&it(i.__H,n)&&(i.__=t,i.__H=n,H.__H.__h.push(i))}function J(t){return $=5,Q((function(){return{current:t}}),[])}function Q(t,e){var n=z(R++,7);return it(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function Y(t,e){return $=8,Q((function(){return t}),e)}function Z(){for(var t;t=M.shift();)if(t.__P)try{t.__H.__h.forEach(et),t.__H.__h.forEach(nt),t.__H.__h=[]}catch(n){t.__H.__h=[],e.__e(n,t.__v)}}e.__b=function(t){H=null,j&&j(t)},e.__r=function(t){F&&F(t),R=0;var e=(H=t.__c).__H;e&&(e.__h.forEach(et),e.__h.forEach(nt),e.__h=[])},e.diffed=function(t){B&&B(t);var n=t.__c;n&&n.__H&&n.__H.__h.length&&(1!==M.push(n)&&U===e.requestAnimationFrame||((U=e.requestAnimationFrame)||function(t){var e,n=function(){clearTimeout(i),tt&&cancelAnimationFrame(e),setTimeout(t)},i=setTimeout(n,100);tt&&(e=requestAnimationFrame(n))})(Z)),H=null},e.__c=function(t,n){n.some((function(t){try{t.__h.forEach(et),t.__h=t.__h.filter((function(t){return!t.__||nt(t)}))}catch(i){n.some((function(t){t.__h&&(t.__h=[])})),n=[],e.__e(i,t.__v)}})),V&&V(t,n)},e.unmount=function(t){X&&X(t);var n,i=t.__c;i&&i.__H&&(i.__H.__.forEach((function(t){try{et(t)}catch(t){n=t}})),n&&e.__e(n,i.__v))};var tt="function"==typeof requestAnimationFrame;function et(t){var e=H,n=t.__c;"function"==typeof n&&(t.__c=void 0,n()),H=e}function nt(t){var e=H;t.__c=t.__(),H=e}function it(t,e){return!t||t.length!==e.length||e.some((function(e,n){return e!==t[n]}))}function ot(t,e){return"function"==typeof e?e(t):e}var st,at,lt,rt=function(t){return _("li",{className:"mg-upc-dg-item-list",onClick:t.onClick,onKeyPress:e=>{13===e.keyCode&&t.onClick(e)},tabIndex:"0"},_("i",{className:"mg-upc-icon mg-upc-dg-item-type mg-upc-dg-item-type-"+t.list.type}),_("div",{className:"mg-upc-dg-item-title"},t.list.title),_("span",{className:"mg-upc-dg-item-count"},t.list.count),_("span",{className:"mg-upc-dg-item-actions"},t.onRemove&&_("button",{onClick:e=>{e.stopPropagation(),t.onRemove(t.list)}},_("span",{className:"mg-upc-icon upc-font-trash"}))))};class ct extends h{render(){const t=[];for(let e=0;e<this.props.count;e++){let n=this.props.styles?this.props.styles:{};null!=this.props.width&&(n.width=this.props.width),null!=this.props.height&&(n.height=this.props.height),null!==this.props.width&&null!==this.props.height&&this.props.circle&&(n.borderRadius="50%"),t.push(_("span",{key:e,className:"mg-upc-dg-loading-skeleton",style:n},"‌"))}const e=this.props.wrapper;return _("span",null,e?t.map(((t,n)=>_(e,{key:n},t,"‌"))):t)}}lt={count:1,duration:1.2,width:null,wrapper:null,height:null,circle:!1},(at="defaultProps")in(st=ct)?Object.defineProperty(st,at,{value:lt,enumerable:!0,configurable:!0,writable:!0}):st[at]=lt;var ut=function(t){return _(m,null,_("ul",{className:"mg-upc-dg-list-of-lists-fake mg-upc-dg-on-loading"},[0,1,2].map((t=>_("li",{className:"mg-upc-dg-item-list"},_("div",null,_(ct,{width:"1.5em",height:"1.5em"})),_("div",{className:"mg-upc-dg-item-title"},_(ct,null)),_("div",{className:"mg-upc-dg-item-count"},_(ct,null)))))),_("ul",{className:"mg-upc-dg-list-of-lists"},t.lists&&t.lists.map((e=>_(rt,{list:e,onClick:()=>t.onSelect(e),onRemove:t.onRemove,key:e.ID})))))};function dt(){return MgUserPostCollections}function pt(t){var e;const n=null===(e=dt())||void 0===e?void 0:e.types;return!(!n||!n[t])&&n[t]}function _t(t,e){return!!t.type&&ft(t.type,e)}function ft(t,e){const n=pt(t);return!(!n||!n.supports)&&n.supports.includes(e)}const mt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQYV2NgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII=";var ht=function(t){const[e,n]=q(!1),[i,o]=q(""),s=J({});return G((()=>{o(t.item.description)}),[t.item]),G((()=>{e&&s.current.focus()}),[e]),_("li",{className:"mg-upc-dg-item","data-post_id":t.item.post_id},_t(t.list,"sortable")&&_(m,null,_("span",{className:"mg-upc-dg-item-handle","aria-draggable":!0},"::"),_("span",{className:"mg-upc-dg-item-number"},t.item.position)),_t(t.list,"vote")&&_(m,null,_("span",{className:"mg-upc-dg-item-number"},(()=>{const e=parseInt(t.list.vote_counter,10);return _t(t.list,"vote")&&e>0?Math.round(100*parseInt(t.item.votes,10)/e)+"%":"0%"})())),_("a",{href:t.item.link},_("img",{className:"mg-upc-dg-item-image",src:t.item.image?t.item.image:mt})),_("div",{className:"mg-upc-dg-item-data"},_("a",{href:t.item.link},t.item.title),t.editable&&!e&&_("p",null,t.item.description),t.editable&&!e&&_t(t.list,"editable_item_description")&&_("button",{onClick:()=>{n(!0)}},_("span",{className:"mg-upc-icon upc-font-edit"}),""===i&&_("span",null,"Add Comment"),""!==i&&_("span",null,"Edit Comment")),_("input",{ref:s,className:e?"mg-upc-dg-btn-item-desc":"mg-upc-dg-dn",type:"text",value:i,onChange:function(t){o(t.target.value)},maxLength:400}),t.editable&&e&&_("button",{className:"mg-upc-dg-btn-item-desc-cancel",onClick:()=>{n(!1),o(t.item.description)}},_("span",{className:"mg-upc-icon upc-font-close"}),_("span",null,"Cancel")),t.editable&&e&&_("button",{className:"mg-upc-dg-btn-item-desc-save",onClick:()=>{n(!1),t.onSaveItemDescription(i)}},_("span",{className:"mg-upc-icon upc-font-save"}),_("span",null,"Save"))),t.editable&&!e&&_("div",null,_("button",{onClick:t.onRemove},_("span",{className:"mg-upc-icon upc-font-trash"}))))},gt=function(t){return new Promise((function(e,n){const i=document.createElement("script");let o=!1;i.type="text/javascript",i.src=t,i.async=!0,i.onerror=function(t){n(t,i)},i.onload=i.onreadystatechange=function(){o||this.readyState&&"complete"!=this.readyState||(o=!0,setTimeout((function(){e()}),100))},(document.head||document.body||document.documentElement).appendChild(i)}))},vt=function(t){var e,n,i;const o=J(null),s=J((e=>{t.onMove(e)}));return G((()=>{s.current=t.onMove})),G((()=>{let e=!1;if(_t(t.list,"sortable")){const t=()=>{e=Sortable.create(o.current,{handle:".mg-upc-dg-item-handle",group:"shared",animation:150,onUpdate:function(t){s.current(t)}})};"undefined"!=typeof Sortable?t():gt("https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js").then((()=>{t()}))}return()=>{e&&e.destroy()}})),_(m,null,_("ul",{className:"mg-upc-dg-list-fake mg-upc-dg-on-loading"},[0,1,2].map((e=>_("li",{className:"mg-upc-dg-item"},_t(t.list,"sortable")&&_(m,null,_("span",{className:"mg-upc-dg-item-handle-skeleton"},"  ",_(ct,{width:"1.5em"}),"  "),_("span",{className:"mg-upc-dg-item-number-skeleton"},"  ",_(ct,{width:"1em"}),"  ")),_t(t.list,"vote")&&_(m,null,_("span",{className:"mg-upc-dg-item-number-skeleton"},"  ",_(ct,{width:"1em"}),"  ")),_("div",{className:"mg-upc-dg-item-skeleton-image"},_(ct,{width:"5em",height:"5em"})),_("div",{className:"mg-upc-dg-item-data"},_(ct,{count:2})))))),_("ul",{ref:o,className:"mg-upc-dg-list"},0===(null==t||null===(e=t.items)||void 0===e?void 0:e.length)&&_("span",null,"There are no items in this list"),(null==t||null===(n=t.items)||void 0===n?void 0:n.length)>0&&(null===(i=t.items)||void 0===i?void 0:i.map)&&t.items.map((e=>_(ht,{list:t.list,item:e,editable:t.editable,onRemove:()=>t.onRemove(t.list,e),onSaveItemDescription:n=>t.onSaveItemDescription(t.list,e,n),key:e.ID+":"+e.post_id})))),_t(t.list,"vote")&&_("span",{className:"mg-upc-dg-total-votes"}," Total votes: ",_("span",null," ",t.list.vote_counter)))},yt=function(t){var e,n,i;const[o,s]=q(!1),[a,l]=q(""),r=J({});return G((()=>{l(t.item.description)}),[t.item]),G((()=>{o&&r.current.focus()}),[o]),_(m,null,_("span",null,_("br",null),"Adding item:"),_("div",{className:"mg-upc-dg-item mg-upc-dg-item-adding","data-post_id":t.item.post_id},_("span",{className:"mg-upc-icon upc-font-add"}),_("span",null," "),_("img",{className:"mg-upc-dg-item-image",src:t.item.image?t.item.image:mt}),_("div",{className:"mg-upc-dg-item-data"},_("a",{href:null===(e=t.item)||void 0===e?void 0:e.link},null===(n=t.item)||void 0===n?void 0:n.title),!o&&_("p",null,null===(i=t.item)||void 0===i?void 0:i.description),!o&&_("button",{onClick:()=>{s(!0)}},""===a&&_("span",null,"Add Comment"),""!==a&&_("span",null,"Edit Comment")),_("input",{ref:r,className:o?"mg-upc-dg-btn-item-desc":"mg-upc-dg-dn",type:"text",value:a,onChange:function(t){l(t.target.value)},maxLength:400}),o&&_("button",{className:"mg-upc-dg-btn-item-desc-cancel",onClick:()=>{s(!1),l(t.item.description)}},_("span",{className:"mg-upc-icon upc-font-close"}),_("span",null,"Cancel")),o&&_("button",{className:"mg-upc-dg-btn-item-desc-save",onClick:()=>{s(!1),t.onSaveItemDescription(a)}},_("span",{className:"mg-upc-icon upc-font-save"}),_("span",null,"Save")))),_("span",null,"Select where the item will be added:"))},bt=function(t){var e;const[n,i]=q(""),[o,s]=q(""),[a,l]=q(""),[r,c]=q(""),u=Q((()=>{const t=[],e=dt().types;for(const n in e)e.hasOwnProperty(n)&&(ft(n,"always_exists")||t.push(e[n]));return t}));return G((()=>{i(t.list.title),s(t.list.content),l(t.list.type),c(t.list.status)}),[t.list]),G((()=>{var t;null!==(t=pt(a))&&void 0!==t&&t.available_statuses&&-1===pt(a).available_statuses.indexOf(r)&&c(pt(a).available_statuses[0])}),[a]),_("div",{className:"mg-list-edit"},-1===t.list.ID&&_(m,null,_("label",{htmlFor:`type-${t.list.ID}`},"List Type"),_("select",{id:`type-${t.list.ID}`,value:a,onChange:function(t){l(t.target.value)}},u.map(((t,e)=>_("option",{key:t.name,value:t.name},t.label))))),ft(a,"editable_title")&&_(m,null,_("label",{htmlFor:`title-${t.list.ID}`},"Title"),_("input",{id:`title-${t.list.ID}`,type:"text",value:n,onChange:function(t){i(t.target.value)},maxLength:100})),ft(a,"editable_content")&&_(m,null,_("label",{htmlFor:`content-${t.list.ID}`},"Description"),_("textarea",{id:`content-${t.list.ID}`,value:o,onChange:function(t){s(t.target.value)},maxLength:500}),_("span",{className:"mg-upc-dg-list-desc-edit-count"},_("i",null,o.length),"/500")),!pt(a)&&_("span",null,"Unknown Type..."),(null===(e=pt(a))||void 0===e?void 0:e.available_statuses)&&pt(a).available_statuses.length>1&&_(m,null,_("label",{htmlFor:`status-${t.list.ID}`},"Status"),_("select",{id:`status-${t.list.ID}`,value:r,onChange:function(t){c(t.target.value)}},pt(a).available_statuses.map(((t,e)=>_("option",{value:t},t))))),pt(a)&&_("div",{className:"mg-upc-dg-edit-actions"},_("button",{onClick:()=>t.onCancel()},_("span",{className:"mg-upc-icon upc-font-close"}),_("span",null,"Cancel")),_("button",{onClick:()=>t.onSave({title:n,content:o,type:a,status:r})},_("span",{className:"mg-upc-icon upc-font-save"}),_("span",null,"Save"))))};function wt(t){return _("a",{href:(t=Object.assign({bgStyle:{},borderRadius:0,iconFillColor:"white",size:64},t)).url,title:"Share with "+t.name,className:"mg-upc-dg-share",target:"_blank",rel:"noopener"},_("svg",{viewBox:"0 0 64 64",width:t.size,height:t.size},t.round?_("circle",{cx:"32",cy:"32",r:"31",fill:t.color,style:t.bgStyle}):_("rect",{width:"64",height:"64",rx:t.borderRadius,ry:t.borderRadius,fill:t.color,style:t.bgStyle}),_("path",{d:t.path,fill:t.iconFillColor})))}var Pt=function(t){const e=J(null),n=J(null),i="Copy",[o,s]=q(i);G((()=>{let t=null;o!==i&&(t=setTimeout((()=>{s("Copy"),clearTimeout(t)}),2e3))}),[o]);const a=encodeURIComponent(t.link),l=encodeURIComponent(t.title);return _("div",{className:"mg-upc-dg-share-link"},_("input",{ref:e,value:t.link,onClick:function(){e.current.setSelectionRange(0,e.current.value.length)},readOnly:!0}),_("button",{ref:n,onClick:function(t){var n;(n=e.current).focus(),n.setSelectionRange(0,n.value.length),document.execCommand&&document.execCommand("copy")?s("Copied!"):s("Error!")}},_("span",{className:"mg-upc-icon upc-font-copy"}),_("span",null,o)),wt({color:"#3b5998",name:"Facebook",url:"https://www.facebook.com/sharer/sharer.php?u="+a+"&quote="+l,path:"M34.1,47V33.3h4.6l0.7-5.3h-5.3v-3.4c0-1.5,0.4-2.6,2.6-2.6l2.8,0v-4.8c-0.5-0.1-2.2-0.2-4.1-0.2 c-4.1,0-6.9,2.5-6.9,7V28H24v5.3h4.6V47H34.1z"}),wt({color:"#00aced",name:"Twitter",url:"https://twitter.com/share?url="+a+"&text="+l,path:"M48,22.1c-1.2,0.5-2.4,0.9-3.8,1c1.4-0.8,2.4-2.1,2.9-3.6c-1.3,0.8-2.7,1.3-4.2,1.6 C41.7,19.8,40,19,38.2,19c-3.6,0-6.6,2.9-6.6,6.6c0,0.5,0.1,1,0.2,1.5c-5.5-0.3-10.3-2.9-13.5-6.9c-0.6,1-0.9,2.1-0.9,3.3 c0,2.3,1.2,4.3,2.9,5.5c-1.1,0-2.1-0.3-3-0.8c0,0,0,0.1,0,0.1c0,3.2,2.3,5.8,5.3,6.4c-0.6,0.1-1.1,0.2-1.7,0.2c-0.4,0-0.8,0-1.2-0.1 c0.8,2.6,3.3,4.5,6.1,4.6c-2.2,1.8-5.1,2.8-8.2,2.8c-0.5,0-1.1,0-1.6-0.1c2.9,1.9,6.4,2.9,10.1,2.9c12.1,0,18.7-10,18.7-18.7 c0-0.3,0-0.6,0-0.8C46,24.5,47.1,23.4,48,22.1z"}),wt({color:"#25D366",name:"Whatsapp",url:"whatsapp://send?text="+a,path:"m42.32286,33.93287c-0.5178,-0.2589 -3.04726,-1.49644 -3.52105,-1.66732c-0.4712,-0.17346 -0.81554,-0.2589 -1.15987,0.2589c-0.34175,0.51004 -1.33075,1.66474 -1.63108,2.00648c-0.30032,0.33658 -0.60064,0.36247 -1.11327,0.12945c-0.5178,-0.2589 -2.17994,-0.80259 -4.14759,-2.56312c-1.53269,-1.37217 -2.56312,-3.05503 -2.86603,-3.57283c-0.30033,-0.5178 -0.03366,-0.80259 0.22524,-1.06149c0.23301,-0.23301 0.5178,-0.59547 0.7767,-0.90616c0.25372,-0.31068 0.33657,-0.5178 0.51262,-0.85437c0.17088,-0.36246 0.08544,-0.64725 -0.04402,-0.90615c-0.12945,-0.2589 -1.15987,-2.79613 -1.58964,-3.80584c-0.41424,-1.00971 -0.84142,-0.88027 -1.15987,-0.88027c-0.29773,-0.02588 -0.64208,-0.02588 -0.98382,-0.02588c-0.34693,0 -0.90616,0.12945 -1.37736,0.62136c-0.4712,0.5178 -1.80194,1.76053 -1.80194,4.27186c0,2.51134 1.84596,4.945 2.10227,5.30747c0.2589,0.33657 3.63497,5.51458 8.80262,7.74113c1.23237,0.5178 2.1903,0.82848 2.94111,1.08738c1.23237,0.38836 2.35599,0.33657 3.24402,0.20712c0.99159,-0.15534 3.04985,-1.24272 3.47963,-2.45956c0.44013,-1.21683 0.44013,-2.22654 0.31068,-2.45955c-0.12945,-0.23301 -0.46601,-0.36247 -0.98382,-0.59548m-9.40068,12.84407l-0.02589,0c-3.05503,0 -6.08417,-0.82849 -8.72495,-2.38189l-0.62136,-0.37023l-6.47252,1.68286l1.73463,-6.29129l-0.41424,-0.64725c-1.70875,-2.71846 -2.6149,-5.85116 -2.6149,-9.07706c0,-9.39809 7.68934,-17.06155 17.15993,-17.06155c4.58253,0 8.88029,1.78642 12.11655,5.02268c3.23625,3.21036 5.02267,7.50812 5.02267,12.06476c-0.0078,9.3981 -7.69712,17.06155 -17.14699,17.06155m14.58906,-31.58846c-3.93529,-3.80584 -9.1133,-5.95471 -14.62789,-5.95471c-11.36055,0 -20.60848,9.2065 -20.61625,20.52564c0,3.61684 0.94757,7.14565 2.75211,10.26282l-2.92557,10.63564l10.93337,-2.85309c3.0136,1.63108 6.4052,2.4958 9.85634,2.49839l0.01037,0c11.36574,0 20.61884,-9.2091 20.62403,-20.53082c0,-5.48093 -2.14111,-10.64081 -6.03239,-14.51915"}),wt({color:"#37aee2",name:"Telegram",url:"https://t.me/share/url?url="+a+"&text="+l,path:"m45.90873,15.44335c-0.6901,-0.0281 -1.37668,0.14048 -1.96142,0.41265c-0.84989,0.32661 -8.63939,3.33986 -16.5237,6.39174c-3.9685,1.53296 -7.93349,3.06593 -10.98537,4.24067c-3.05012,1.1765 -5.34694,2.05098 -5.4681,2.09312c-0.80775,0.28096 -1.89996,0.63566 -2.82712,1.72788c-0.23354,0.27218 -0.46884,0.62161 -0.58825,1.10275c-0.11941,0.48114 -0.06673,1.09222 0.16682,1.5716c0.46533,0.96052 1.25376,1.35737 2.18443,1.71383c3.09051,0.99037 6.28638,1.93508 8.93263,2.8236c0.97632,3.44171 1.91401,6.89571 2.84116,10.34268c0.30554,0.69185 0.97105,0.94823 1.65764,0.95525l-0.00351,0.03512c0,0 0.53908,0.05268 1.06412,-0.07375c0.52679,-0.12292 1.18879,-0.42846 1.79109,-0.99212c0.662,-0.62161 2.45836,-2.38812 3.47683,-3.38552l7.6736,5.66477l0.06146,0.03512c0,0 0.84989,0.59703 2.09312,0.68132c0.62161,0.04214 1.4399,-0.07726 2.14229,-0.59176c0.70766,-0.51626 1.1765,-1.34683 1.396,-2.29506c0.65673,-2.86224 5.00979,-23.57745 5.75257,-27.00686l-0.02107,0.08077c0.51977,-1.93157 0.32837,-3.70159 -0.87096,-4.74991c-0.60054,-0.52152 -1.2924,-0.7498 -1.98425,-0.77965l0,0.00176zm-0.2072,3.29069c0.04741,0.0439 0.0439,0.0439 0.00351,0.04741c-0.01229,-0.00351 0.14048,0.2072 -0.15804,1.32576l-0.01229,0.04214l-0.00878,0.03863c-0.75858,3.50668 -5.15554,24.40802 -5.74203,26.96472c-0.08077,0.34417 -0.11414,0.31959 -0.09482,0.29852c-0.1756,-0.02634 -0.50045,-0.16506 -0.52679,-0.1756l-13.13468,-9.70175c4.4988,-4.33199 9.09945,-8.25307 13.744,-12.43229c0.8218,-0.41265 0.68483,-1.68573 -0.29852,-1.70681c-1.04305,0.24584 -1.92279,0.99564 -2.8798,1.47502c-5.49971,3.2626 -11.11882,6.13186 -16.55882,9.49279c-2.792,-0.97105 -5.57873,-1.77704 -8.15298,-2.57601c2.2336,-0.89555 4.00889,-1.55579 5.75608,-2.23009c3.05188,-1.1765 7.01687,-2.7042 10.98537,-4.24067c7.94051,-3.06944 15.92667,-6.16346 16.62028,-6.43037l0.05619,-0.02283l0.05268,-0.02283c0.19316,-0.0878 0.30378,-0.09658 0.35471,-0.10009c0,0 -0.01756,-0.05795 -0.00351,-0.04566l-0.00176,0zm-20.91715,22.0638l2.16687,1.60145c-0.93418,0.91311 -1.81743,1.77353 -2.45485,2.38812l0.28798,-3.98957"}),wt({color:"#00b800",name:"LiNE",url:"https://social-plugins.line.me/lineit/share?url="+a+"&text="+l,path:"M52.62 30.138c0 3.693-1.432 7.019-4.42 10.296h.001c-4.326 4.979-14 11.044-16.201 11.972-2.2.927-1.876-.591-1.786-1.112l.294-1.765c.069-.527.142-1.343-.066-1.865-.232-.574-1.146-.872-1.817-1.016-9.909-1.31-17.245-8.238-17.245-16.51 0-9.226 9.251-16.733 20.62-16.733 11.37 0 20.62 7.507 20.62 16.733zM27.81 25.68h-1.446a.402.402 0 0 0-.402.401v8.985c0 .221.18.4.402.4h1.446a.401.401 0 0 0 .402-.4v-8.985a.402.402 0 0 0-.402-.401zm9.956 0H36.32a.402.402 0 0 0-.402.401v5.338L31.8 25.858a.39.39 0 0 0-.031-.04l-.002-.003-.024-.025-.008-.007a.313.313 0 0 0-.032-.026.255.255 0 0 1-.021-.014l-.012-.007-.021-.012-.013-.006-.023-.01-.013-.005-.024-.008-.014-.003-.023-.005-.017-.002-.021-.003-.021-.002h-1.46a.402.402 0 0 0-.402.401v8.985c0 .221.18.4.402.4h1.446a.401.401 0 0 0 .402-.4v-5.337l4.123 5.568c.028.04.063.072.101.099l.004.003a.236.236 0 0 0 .025.015l.012.006.019.01a.154.154 0 0 1 .019.008l.012.004.028.01.005.001a.442.442 0 0 0 .104.013h1.446a.4.4 0 0 0 .401-.4v-8.985a.402.402 0 0 0-.401-.401zm-13.442 7.537h-3.93v-7.136a.401.401 0 0 0-.401-.401h-1.447a.4.4 0 0 0-.401.401v8.984a.392.392 0 0 0 .123.29c.072.068.17.111.278.111h5.778a.4.4 0 0 0 .401-.401v-1.447a.401.401 0 0 0-.401-.401zm21.429-5.287c.222 0 .401-.18.401-.402v-1.446a.401.401 0 0 0-.401-.402h-5.778a.398.398 0 0 0-.279.113l-.005.004-.006.008a.397.397 0 0 0-.111.276v8.984c0 .108.043.206.112.278l.005.006a.401.401 0 0 0 .284.117h5.778a.4.4 0 0 0 .401-.401v-1.447a.401.401 0 0 0-.401-.401h-3.93v-1.519h3.93c.222 0 .401-.18.401-.402V29.85a.401.401 0 0 0-.401-.402h-3.93V27.93h3.93z"}),wt({color:"#b2b2b2",name:"Email",url:"mailto:?subject="+l+"&body="+a,path:"M17,22v20h30V22H17z M41.1,25L32,32.1L22.9,25H41.1z M20,39V26.6l12,9.3l12-9.3V39H20z"}))};const kt="ui/reset",Nt="ui/error",xt="ui/editing",Ct="listOfLists/set",It="listOfLists/remove",St="listOfLists/create",At="listOfList/addingPost",Et="list/set",Lt="list/update",Tt="list/setPage",Dt="list/setTotalPages",Ot="list/setItems",Wt="list/removeItem",Rt="list/addItem",Ht="list/updateItem",Ut="list/moveItem";var $t=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i={method:t,credentials:"same-origin",headers:{"Content-Type":"application/json","X-WP-Nonce":dt().nonce},referrerPolicy:"no-referrer"};"GET"!==t&&n&&(i.body=JSON.stringify(n));const o=await fetch(dt().root+"mg-upc/v1/lists"+e,i);o.headers.get("x-wp-nonce")&&(dt().nonce=o.headers.get("x-wp-nonce"));const s=await o.json();return{data:s,headers:o.headers,status:o.status}};function Mt(t){const e=Object.entries(t).filter((t=>{let[,e]=t;return null!=e})).map((t=>{let[e,n]=t;return`${encodeURIComponent(e)}=${encodeURIComponent(String(n))}`}));return e.length>0?`?${e.join("&")}`:""}class jt extends Error{constructor(t,e){super(t),this.name="MgApiError",this.response=e}}function Ft(t){var e,n;let i=null==t||null===(e=t.data)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.status;var o;if(!i&&t.status&&(i=t.status),400===i||401===i||403===i||404===i||409===i||500===i)throw new jt(null==t||null===(o=t.data)||void 0===o?void 0:o.message,t)}let Bt={my:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return $t("GET","/My"+Mt(t),{}).then((function(t){return Ft(t),t}))},get:function(t){return $t("GET","/"+t,{}).then((function(t){return Ft(t),t}))},items:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $t("GET","/"+t+"/items"+Mt(e),{}).then((function(t){return Ft(t),t}))},delete:function(t){return $t("DELETE","/"+t,{}).then((function(t){return Ft(t),t}))},create:function(t){return $t("POST","",t).then((function(t){return Ft(t),t}))},update:function(t){let e=t.id;return delete t.id,$t("PATCH","/"+e,t).then((function(t){return Ft(t),t}))},add:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return"object"!=typeof e&&(e={post_id:e}),$t("POST","/"+t+"/items"+Mt(n),e).then((function(t){return Ft(t),t}))},quit:function(t,e){return $t("DELETE","/"+t+"/items/"+e,{}).then((function(t){return Ft(t),t}))},updateItem:function(t,e,n){return $t("PATCH","/"+t+"/items/"+e,n).then((function(t){return Ft(t),t}))},vote:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return $t("POST","/"+t+"/items/"+e+"/vote",n).then((function(t){return Ft(t),t}))},move:function(t,e,n){return $t("PATCH","/"+t+"/items/"+e,{position:n}).then((function(t){return Ft(t),t}))}};var Vt=Bt;function Xt(t,e){const{type:n,payload:i}=e;let o=!1;const s=t=>(o=a({status:"failed"}),t.error&&t.error.message&&(o.error=t.error.message),o),a=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(o||(o=JSON.parse(JSON.stringify(t))),e)for(const t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);return o};let l=function(t,e){const{type:n,payload:i}=e;let o,s;function a(t){return JSON.parse(JSON.stringify(t))}const l=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(s||(s=!1===t?{}:a(t)),e)for(const t in e)s[t]=e[t];return s};switch(n){case Et:return!0===i?{ID:-1,title:"New List",content:"",status:"publish",type:"simple"}:i;case Lt:return i.items=a(t.items),i;case St:return i;case Ot:return l({items:i});case"list/addItem/failed":case Rt:return null!=i&&i.list?l(i.list):t;case Ht:return o=l().items.map((t=>t.post_id===i.post_id?Object.assign({},t,i):{...t})),l({items:o});case Wt:if(1===t.items.length||!1===i)return t;if(o=l().items.filter((t=>t.post_id!==i)),ft(t.type,"sortable")){const e=parseInt(t.items[0].position,10);o.forEach(((t,n)=>{o[n].position=e+n}))}return l({items:o});case Ut:const e=parseInt(t.items[0].position,10);o=l().items.slice();const n=l().items[i.oldIndex];return o.splice(i.oldIndex,1),o.splice(i.newIndex,0,n),isNaN(e)?(alert("positions error!"),t):(o.forEach(((t,n)=>{o[n].position=e+n})),l({items:o}));default:return t}}(t.list,e),r=function(t,e){const{type:n,payload:i}=e;switch(n){case Ct:return i;case Rt:case Et:return!1;case It:return!1===i?t:t.filter((t=>t.ID!==i));default:return t}}(t.listOfList,e);switch(t.list===l&&r===t.listOfList||(o=a({listOfList:r,list:l}),t.addingPost||(o.title=o.list?o.list.title:Gt.title)),n){case kt:return{...Gt};case Nt:return a({error:i});case xt:return a({editing:i});case At:return o=a(),o.addingPost=i,i&&(o.title="Add to..."),o;case St:o=a(),o.title=i.title?i.title:Gt.title,o.totalPages=1,o.page=1,o.addingPost=!1;break;case Rt:if(o=a(),null!=i&&i.list){const t=i.list;o.title=t.title?t.title:Gt.title;const e=null==t?void 0:t.items_page;e&&(o.totalPages=e["X-WP-TotalPages"]?e["X-WP-TotalPages"]:1,o.page=e["X-WP-Page"]?e["X-WP-Page"]:1)}i.message&&(o.error=i.message,o.status="failed"),o.addingPost=!1;break;case Tt:return a({page:i});case Dt:return a({totalPages:i});case"list/set/loading":return o=a(),o.status="loading",o.listOfList=!1,"object"==typeof i?(o.list=i,i.title&&(o.title=i.title)):o.list={ID:i},o;case"listOfLists/set/loading":case"list/setItems/loading":case"list/updateItem/loading":case"list/removeItem/loading":case"list/addItem/loading":case"list/moveItemNext/loading":case"list/moveItemPrev/loading":case"list/update/loading":case St+"/loading":return a({status:"loading"});case"list/addItem/succeeded":return o=a(),o.addingPost=!1,o.status="succeeded",o.error=!1,o.title=o.list?o.list.title:Gt.title,o;case"list/set/succeeded":if(!1===t.list)break;return a({status:"succeeded",error:!1});case"listOfLists/set/succeeded":case"list/setItems/succeeded":case"list/updateItem/succeeded":case"list/removeItem/succeeded":case"list/moveItem/succeeded":case"list/moveItemNext/succeeded":case"list/moveItemPrev/succeeded":case"list/update/succeeded":case St+"/succeeded":return a({status:"succeeded",error:!1});case St+"/failed":return o=a({status:"failed"}),e.error&&e.error.message&&(o.error=e.error.message),o;case"list/addItem/failed":if(o=a(),o.addingPost=!1,o.title=o.list?o.list.title:Gt.title,null!=i&&i.list){const t=i.list;o.title=t.title?t.title:Gt.title;const e=null==t?void 0:t.items_page;e&&(o.totalPages=e["X-WP-TotalPages"]?e["X-WP-TotalPages"]:1,o.page=e["X-WP-Page"]?e["X-WP-Page"]:1)}return i.message&&(o.error=i.message,o.status="failed"),s(e);case"listOfLists/set/failed":case"list/setItems/failed":case"list/updateItem/failed":case"list/removeItem/failed":case"list/moveItem/failed":case"list/moveItemNext/failed":case"list/moveItemPrev/failed":case"list/update/failed":case"list/set/failed":return s(e)}return!1!==o?o:t}const zt=(t,e)=>function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return{asyncThunk:!0,payload:e,type:t,arg:n,extra:o}};class qt extends Error{constructor(t,e){super(t),this.name="MgUpcRejectWithValue",this.value=e}}const Kt=(t,e)=>n=>{let i;if((t=>!!t&&"object"==typeof t&&!0===t.asyncThunk)(n)){let o={dispatch:Kt(t,e),getState:e,extra:n.extra,rejectWithValue:t=>new qt(n.type+": rejectWithValue",t)};t({type:n.type+"/loading",payload:n.arg}),i=n.payload(n.arg,o)}else{if(!(t=>!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then)(n.payload))return void t(n);t({type:n.type+"/loading"}),i=n.payload}i.then((e=>{e instanceof qt?t({type:n.type+"/failed",payload:e.value}):(t({type:n.type,payload:e}),t({type:n.type+"/succeeded"}))})).catch((e=>{t(e instanceof qt?{type:n.type+"/failed",payload:e.value}:{type:n.type+"/failed",error:e})}))},Gt={list:!1,listOfList:!1,addingPost:null,status:"idle",error:null,editing:!1,title:"My Lists",actualAction:"init",page:1,totalPages:1},Jt=function(t,e){var n={__c:e="__cC"+l++,__:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var n,i;return this.getChildContext||(n=[],(i={})[e]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&n.some(y)},this.sub=function(t){n.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){n.splice(n.indexOf(t),1),e&&e.call(t)}}),t.children}};return n.Provider.__=n.Consumer.contextType=n}({}),Qt=()=>({type:kt,payload:null}),Yt=t=>({type:At,payload:t}),Zt=t=>({type:xt,payload:t}),te=zt(Ct,(async function(t,e){var n;const i=null===(n=t)||void 0===n?void 0:n.addingPost;return null===t&&(t={}),t.addingPost?t.adding=t.addingPost:(t.adding="",delete t.adding),await Vt.my(t).then((t=>{if(t.headers.get("x-wp-page")&&(e.dispatch(ne(parseInt(t.headers.get("x-wp-page"),10))),e.dispatch(ie(parseInt(t.headers.get("X-WP-TotalPages"),10)))),i&&t.headers.get("X-WP-Post-Type")){const n={post_id:i,type:t.headers.get("X-WP-Post-Type")};t.headers.get("X-WP-Post-Title")&&(n.title=t.headers.get("X-WP-Post-Title")),t.headers.get("X-WP-Post-Image")&&(n.image=t.headers.get("X-WP-Post-Image")),e.dispatch(Yt(n))}return t.data}))})),ee=zt(It,(async function(t,e){return await Vt.delete(t).then((n=>{if(1==e.getState().listOfList.length){const t=e.getState().page,n=e.getState().totalPages;return t<n?e.dispatch(te({page:t})):t>1&&t===n&&e.dispatch(te({page:t-1})),!1}return t}))})),ne=t=>({type:Tt,payload:t}),ie=t=>({type:Dt,payload:t}),oe=zt(Et,(async function(t,e){return!1===t||!0===t?t:await Vt.get("object"==typeof t?t.ID:t).then((t=>(fe(t,e.dispatch),t.data)))})),se=zt(Lt,(async function(t,e){return await Vt.update(t).then((t=>(e.dispatch(Zt(!1)),fe(t,e.dispatch),t.data)))})),ae=zt(St,(async function(t,e){return null===t&&(t={}),t.adding&&t.adding!==e.getState().addingPost&&e.dispatch(Yt({id:t.addingPost})),await Vt.create(t).then((t=>(e.dispatch(Zt(!1)),fe(t,e.dispatch),t.data)))})),le=zt(Ot,(async function(t,e){return await Vt.items(e.getState().list.ID,t).then((t=>(fe(t,e.dispatch),t.data)))})),re=zt(Wt,(async function(t,e){const n=e.getState();return await Vt.quit(n.list.ID,t).then((i=>{if(1===n.list.items.length){const t=n.page,i=n.totalPages;return t<i?e.dispatch(le({page:t})):t===i&&e.dispatch(le({page:Math.max(1,n.page-1)})),!1}return t}))})),ce=zt(Rt,(async function(t,e){let n=e.extra[0],i=!1;try{await Vt.add(t,n,{context:"view"}).then((t=>{i=t.data}))}catch(t){var o;const n=null==t||null===(o=t.response)||void 0===o?void 0:o.data;i=e.rejectWithValue(n)}return i})),ue=zt(Ht,(async function(t,e){const n=e.extra[0];return await Vt.updateItem(e.getState().list.ID,t,n).then((e=>({...n,post_id:t})))})),de=zt(Ut,(async function(t,e){const n=e.extra[0],i=e.extra[1],o=n.items[t],s=o.position-t+i;return await Vt.move(n.ID,o.post_id,s).then((e=>({oldIndex:t,newIndex:i})))})),pe=zt("list/moveItemNext",(async function(t,e){const n=e.getState().list,i=parseInt(n.items[n.items.length-1].position,10);if(isNaN(i))throw alert("positions error!"),"positions error!";const o=n.items[t];return await Vt.move(n.ID,o.post_id,i+1),await e.dispatch(le({page:e.getState().page})),t})),_e=zt("list/moveItemPrev",(async function(t,e){const n=e.getState().list,i=parseInt(n.items[0].position,10);if(isNaN(i))throw alert("positions error!"),"positions error!";const o=n.items[t];return await Vt.move(n.ID,o.post_id,i-1),await e.dispatch(le({page:e.getState().page})),t}));function fe(t,e){!t.data.items_page&&t.headers.get("x-wp-page")?(e(ne(parseInt(t.headers.get("x-wp-page"),10))),e(ie(parseInt(t.headers.get("X-WP-TotalPages"),10)))):t.data.items_page&&(e(ne(parseInt(t.data.items_page["X-WP-Page"],10))),e(ie(parseInt(t.data.items_page["X-WP-TotalPages"],10))))}function me(){return me=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},me.apply(this,arguments)}function he(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var i in e)if("__source"!==i&&t[i]!==e[i])return!0;return!1}function ge(t){this.props=t}(ge.prototype=new h).isPureReactComponent=!0,ge.prototype.shouldComponentUpdate=function(t,e){return he(this.props,t)||he(this.state,e)};var ve=e.__b;e.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),ve&&ve(t)},"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var ye=e.__e;e.__e=function(t,e,n,i){if(t.then)for(var o,s=e;s=s.__;)if((o=s.__c)&&o.__c)return null==e.__e&&(e.__e=n.__e,e.__k=n.__k),o.__c(t,e);ye(t,e,n,i)};var be=e.unmount;function we(){this.__u=0,this.t=null,this.__b=null}function Pe(t){var e=t.__.__c;return e&&e.__e&&e.__e(t)}function ke(){this.u=null,this.o=null}e.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&!0===t.__h&&(t.type=null),be&&be(t)},(we.prototype=new h).__c=function(t,e){var n=e.__c,i=this;null==i.t&&(i.t=[]),i.t.push(n);var o=Pe(i.__v),s=!1,a=function(){s||(s=!0,n.__R=null,o?o(l):l())};n.__R=a;var l=function(){if(!--i.__u){if(i.state.__e){var t=i.state.__e;i.__v.__k[0]=function t(e,n,i){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return t(e,n,i)})),e.__c&&e.__c.__P===n&&(e.__e&&i.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=i)),e}(t,t.__c.__P,t.__c.__O)}var e;for(i.setState({__e:i.__b=null});e=i.t.pop();)e.forceUpdate()}},r=!0===e.__h;i.__u++||r||i.setState({__e:i.__b=i.__v.__k[0]}),t.then(a,a)},we.prototype.componentWillUnmount=function(){this.t=[]},we.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=function t(e,n,i){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(t){"function"==typeof t.__c&&t.__c()})),e.__c.__H=null),null!=(e=function(t,e){for(var n in e)t[n]=e[n];return t}({},e)).__c&&(e.__c.__P===i&&(e.__c.__P=n),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return t(e,n,i)}))),e}(this.__b,n,i.__O=i.__P)}this.__b=null}var o=e.__e&&_(m,null,t.fallback);return o&&(o.__h=null),[_(m,null,e.__e?null:t.children),o]};var Ne=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function xe(t){return this.getChildContext=function(){return t.context},t.children}function Ce(t){var e=this,n=t.i;e.componentWillUnmount=function(){W(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(t){this.childNodes.push(t),e.i.appendChild(t)},insertBefore:function(t,n){this.childNodes.push(t),e.i.appendChild(t)},removeChild:function(t){this.childNodes.splice(this.childNodes.indexOf(t)>>>1,1),e.i.removeChild(t)}}),W(_(xe,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}(ke.prototype=new h).__e=function(t){var e=this,n=Pe(e.__v),i=e.o.get(t);return i[0]++,function(o){var s=function(){e.props.revealOrder?(i.push(o),Ne(e,t,i)):o()};n?n(s):s()}},ke.prototype.render=function(t){this.u=null,this.o=new Map;var e=k(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},ke.prototype.componentDidUpdate=ke.prototype.componentDidMount=function(){var t=this;this.o.forEach((function(e,n){Ne(t,n,e)}))};var Ie="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Se=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Ae="undefined"!=typeof document,Ee=function(t){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(t)};h.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(t){Object.defineProperty(h.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})}));var Le=e.event;function Te(){}function De(){return this.cancelBubble}function Oe(){return this.defaultPrevented}e.event=function(t){return Le&&(t=Le(t)),t.persist=Te,t.isPropagationStopped=De,t.isDefaultPrevented=Oe,t.nativeEvent=t};var We={configurable:!0,get:function(){return this.class}},Re=e.vnode;e.vnode=function(t){var e=t.type,n=t.props,i=n;if("string"==typeof e){var o=-1===e.indexOf("-");for(var s in i={},n){var a=n[s];Ae&&"children"===s&&"noscript"===e||"value"===s&&"defaultValue"in n&&null==a||("defaultValue"===s&&"value"in n&&null==n.value?s="value":"download"===s&&!0===a?a="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+e)&&!Ee(n.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():o&&Se.test(s)?s=s.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===a&&(a=void 0),i[s]=a)}"select"==e&&i.multiple&&Array.isArray(i.value)&&(i.value=k(n.children).forEach((function(t){t.props.selected=-1!=i.value.indexOf(t.props.value)}))),"select"==e&&null!=i.defaultValue&&(i.value=k(n.children).forEach((function(t){t.props.selected=i.multiple?-1!=i.defaultValue.indexOf(t.props.value):i.defaultValue==t.props.value}))),t.props=i,n.class!=n.className&&(We.enumerable="className"in n,null!=n.className&&(i.class=n.className),Object.defineProperty(i,"className",We))}t.$$typeof=Ie,Re&&Re(t)};var He=e.__r;e.__r=function(t){He&&He(t),t.__c};var Ue=['a[href]:not([tabindex^="-"])','area[href]:not([tabindex^="-"])','input:not([type="hidden"]):not([type="radio"]):not([disabled]):not([tabindex^="-"])','input[type="radio"]:not([disabled]):not([tabindex^="-"])','select:not([disabled]):not([tabindex^="-"])','textarea:not([disabled]):not([tabindex^="-"])','button:not([disabled]):not([tabindex^="-"])','iframe:not([tabindex^="-"])','audio[controls]:not([tabindex^="-"])','video[controls]:not([tabindex^="-"])','[contenteditable]:not([tabindex^="-"])','[tabindex]:not([tabindex^="-"])'];function $e(t){this._show=this.show.bind(this),this._hide=this.hide.bind(this),this._maintainFocus=this._maintainFocus.bind(this),this._bindKeypress=this._bindKeypress.bind(this),this.$el=t,this.shown=!1,this._id=this.$el.getAttribute("data-a11y-dialog")||this.$el.id,this._previouslyFocused=null,this._listeners={},this.create()}function Me(t,e){return n=(e||document).querySelectorAll(t),Array.prototype.slice.call(n);var n}function je(t){(t.querySelector("[autofocus]")||t).focus()}function Fe(){Me("[data-a11y-dialog]").forEach((function(t){new $e(t)}))}$e.prototype.create=function(){return this.$el.setAttribute("aria-hidden",!0),this.$el.setAttribute("aria-modal",!0),this.$el.setAttribute("tabindex",-1),this.$el.hasAttribute("role")||this.$el.setAttribute("role","dialog"),this._openers=Me('[data-a11y-dialog-show="'+this._id+'"]'),this._openers.forEach(function(t){t.addEventListener("click",this._show)}.bind(this)),this._closers=Me("[data-a11y-dialog-hide]",this.$el).concat(Me('[data-a11y-dialog-hide="'+this._id+'"]')),this._closers.forEach(function(t){t.addEventListener("click",this._hide)}.bind(this)),this._fire("create"),this},$e.prototype.show=function(t){return this.shown||(this._previouslyFocused=document.activeElement,this.$el.removeAttribute("aria-hidden"),this.shown=!0,je(this.$el),document.body.addEventListener("focus",this._maintainFocus,!0),document.addEventListener("keydown",this._bindKeypress),this._fire("show",t)),this},$e.prototype.hide=function(t){return this.shown?(this.shown=!1,this.$el.setAttribute("aria-hidden","true"),this._previouslyFocused&&this._previouslyFocused.focus&&this._previouslyFocused.focus(),document.body.removeEventListener("focus",this._maintainFocus,!0),document.removeEventListener("keydown",this._bindKeypress),this._fire("hide",t),this):this},$e.prototype.destroy=function(){return this.hide(),this._openers.forEach(function(t){t.removeEventListener("click",this._show)}.bind(this)),this._closers.forEach(function(t){t.removeEventListener("click",this._hide)}.bind(this)),this._fire("destroy"),this._listeners={},this},$e.prototype.on=function(t,e){return void 0===this._listeners[t]&&(this._listeners[t]=[]),this._listeners[t].push(e),this},$e.prototype.off=function(t,e){var n=(this._listeners[t]||[]).indexOf(e);return n>-1&&this._listeners[t].splice(n,1),this},$e.prototype._fire=function(t,e){var n=this._listeners[t]||[],i=new CustomEvent(t,{detail:e});this.$el.dispatchEvent(i),n.forEach(function(t){t(this.$el,e)}.bind(this))},$e.prototype._bindKeypress=function(t){this.$el.contains(document.activeElement)&&(this.shown&&27===t.which&&"alertdialog"!==this.$el.getAttribute("role")&&(t.preventDefault(),this.hide(t)),this.shown&&9===t.which&&function(t,e){var n=function(t){return Me(Ue.join(","),t).filter((function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}))}(t),i=n.indexOf(document.activeElement);e.shiftKey&&0===i?(n[n.length-1].focus(),e.preventDefault()):e.shiftKey||i!==n.length-1||(n[0].focus(),e.preventDefault())}(this.$el,t))},$e.prototype._maintainFocus=function(t){!this.shown||t.target.closest('[aria-modal="true"]')||t.target.closest("[data-a11y-dialog-ignore-focus-trap]")||je(this.$el)},"undefined"!=typeof document&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",Fe):window.requestAnimationFrame?window.requestAnimationFrame(Fe):window.setTimeout(Fe,16));const Be=t=>{const e=(()=>{const[t,e]=q(!1);return G((()=>e(!0)),[]),t})(),[n,i]=(t=>{const[e,n]=(()=>{const[t,e]=q(null);return[t,Y((t=>{null!==t&&e(new $e(t))}),[])]})(),i=Y((()=>e.hide()),[e]),o=t.role||"dialog",s="alertdialog"===o,a=t.titleId||t.id+"-title";return G((()=>()=>{e&&e.destroy()}),[e]),[e,{container:{id:t.id,ref:n,role:o,tabIndex:-1,"aria-modal":!0,"aria-hidden":!0,"aria-labelledby":a},overlay:{onClick:s?void 0:i},dialog:{role:"document"},closeButton:{type:"button",onClick:i},title:{role:"heading","aria-level":1,id:a}}]})(t),{dialogRef:o}=t;if(G((()=>(n&&o(n),()=>o(void 0))),[o,n]),!e)return null;const s=t.dialogRoot?document.querySelector(t.dialogRoot):document.body,a=_("h2",me({},i.title,{className:t.classNames.title,key:"title"}),t.onBack&&_("a",{"aria-label":t.backButtonLabel,href:"#",onClick:e=>{e.preventDefault(),t.onBack(e)}},"←")," ",t.title),l=_("button",me({},i.closeButton,{className:t.classNames.closeButton,"aria-label":t.closeButtonLabel,key:"button"}),t.closeButtonContent),r=["first"===t.closeButtonPosition&&l,a,t.children,"last"===t.closeButtonPosition&&l].filter(Boolean);return function(t,e){return _(Ce,{__v:t,i:e})}(_("div",me({},i.container,{className:t.classNames.container}),_("div",me({},i.overlay,{className:t.classNames.overlay})),_("div",me({},i.dialog,{className:t.classNames.dialog}),r)),s)};Be.defaultProps={role:"dialog",closeButtonLabel:"Close this dialog window",closeButtonContent:"×",closeButtonPosition:"first",classNames:{},backButtonLabel:"Back",dialogRef:()=>{}},n(253);var Ve=function(t){return _("div",{className:"mg-upc-dg-pagination-div"},_("button",{className:1===t.page?"mg-upc-dg-hidden mg-upc-dg-pagination":"mg-upc-dg-pagination",ref:t.prevRef,disabled:1===t.page,"aria-label":"Previous page",title:"Previous page",onClick:t.onPreview},_("span",{className:"mg-upc-icon upc-font-arrow_left"})),_("span",{className:t.totalPages>1?"mg-upc-dg-pagination-current":"mg-upc-dg-hidden mg-upc-dg-pagination-current"},t.page),_("button",{className:t.page>=t.totalPages?"mg-upc-dg-hidden mg-upc-dg-pagination":"mg-upc-dg-pagination",ref:t.nextRef,disabled:t.page>=t.totalPages,"aria-label":"Next page",title:"Next page",onClick:t.onNext},_("span",{className:"mg-upc-icon upc-font-arrow_right"})))};function Xe(t){return t.author===dt().user_id}W(_((t=>{const[e,n]=K(Xt,Gt);return _(Jt.Provider,{value:{state:e,dispatch:Kt(n,(()=>e))}},t.children)}),null,_((function(){var t;const{state:e,dispatch:n}=function(t){var e=H.context[t.__c],n=z(R++,9);return n.c=t,e?(null==n.__&&(n.__=!0,e.sub(H)),e.props.value):t.__}(Jt),[i,o]=q(!1),s=J(!1),a=J(!1),l=J(!1);let r="listOfList";if(e.addingPost)r=e.editing?"addingToNew":"adding";else if(e.editing){var c;r=-1!==(null===(c=e.list)||void 0===c?void 0:c.ID)?"edit":"new"}else r=e.list?"list":"listOfList";G((()=>{o(!1)}),[r]),G((()=>{const t=e.list;let i=!1,o=!1;if(t&&_t(t,"sortable")){const t=()=>{e.page<e.totalPages&&(i=Sortable.create(a.current,{group:"shared",onAdd:t=>{n(pe(t.oldIndex))}})),e.page>1&&(o=Sortable.create(l.current,{group:"shared",onAdd:t=>{n(_e(t.oldIndex))}}))};"undefined"!=typeof Sortable?t():gt("https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js").then((()=>{t()}))}return()=>{i&&i.destroy(),o&&o.destroy()}}),[e.list,e.page,e.totalPages]),G((()=>{window.showMyLists=function(){u()},window.addItemToList=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n(Qt()),e||d(t)}}),[s.current,n]);const u=()=>{n(Qt()),n(te()),s.current.show()},d=t=>{n(Yt({post_id:t})),n(te({addingPost:t})),s.current.show()};function p(t){t<1||t>e.totalPages||"loading"===e.status||(e.list?n(le({page:t})):n(te({page:t})))}const f="list"===r||"new"===r||"edit"===r||"addingToNew"===r;return _(Be,{id:"mg-upc-dg-dialog",dialogRef:function(t){s.current=t},title:e.title,classNames:{container:"mg-upc-dg-container",overlay:"mg-upc-dg-overlay",dialog:"mg-upc-dg-content",title:"mg-upc-dg-title",closeButton:"mg-upc-dg-close"},onBack:!!f&&function(){switch(r){case"list":default:u();break;case"new":n(oe(!1)),n(Zt(!1)),u();break;case"edit":n(Zt(!1));break;case"addingToNew":n(oe(!1)),n(Zt(!1)),n(te({addingPost:e.addingPost.post_id}))}}},_("div",{className:"mg-upc-dg-content-wrapper mg-upc-dg-status-"+e.status+" mg-upc-dg-view-"+r},_("div",{className:"mg-upc-dg-wait"}),e.error&&_("div",{className:"mg-upc-dg-error"},e.error,_("a",{href:"#",className:"mg-upc-dg-alert-close","aria-label":"Hide alert",onClick:t=>{t.preventDefault(),n({type:Nt,payload:null})}},_("span",{className:"mg-upc-icon upc-font-close"}))),_("div",{className:"mg-upc-dg-body"},!e.error&&e.addingPost&&_(yt,{item:e.addingPost,onSaveItemDescription:function(t){n(Yt({...e.addingPost,description:t}))}}),("listOfList"===r||"adding"===r)&&_(m,null,_("div",{className:"mg-upc-dg-top-action"},_("button",{className:"mg-list-new",onClick:function(t){n(Zt(!0)),n(oe(!0)),s.current.show()}},_("span",{className:"mg-upc-icon upc-font-add"}),_("span",null,"Create List"))),_(ut,{lists:e.listOfList,onSelect:function(t){n(Zt(!1)),e.addingPost?n(ce(t.ID,e.addingPost)):(n(oe(t)),s.current.show())},onRemove:!e.addingPost&&function(t){n(ee(t.ID))}})),e.list&&_(m,null,e.editing&&_(bt,{list:e.list,onSave:function(t){if(-1===e.list.ID||t.title!==e.list.title||t.content!==e.list.content||t.status!==e.list.status)if(-1===e.list.ID){var i;const o={};o.title=t.title,o.content=t.content,o.type=t.type,o.status=t.status,null!==(i=e.addingPost)&&void 0!==i&&i.post_id&&(o.adding=e.addingPost.post_id),n(ae(o))}else{const i={id:e.list.ID};t.status!==e.list.status&&(i.status=t.status),t.title!==e.list.title&&(i.title=t.title),t.content!==e.list.content&&(i.content=t.content),n(se(i))}},onCancel:function(){n(Zt(!1)),-1===e.list.ID&&(n(oe(!1)),u())}}),!e.editing&&_(m,null,_("div",{className:"mg-upc-dg-top-action"},function(t){var e,n;const i=t.type;return ft(i,"editable_title")||ft(i,"editable_content")||(null===(e=pt(i))||void 0===e||null===(n=e.available_statuses)||void 0===n?void 0:n.length)>1}(e.list)&&_("button",{className:"mg-upg-edit",onClick:()=>n(Zt(!0))},_("span",{className:"mg-upc-icon upc-font-edit"}),_("span",null,"Edit")),e.list.link&&_("button",{className:"mg-upg-share",onClick:()=>o(!i)},_("span",{className:"mg-upc-icon upc-font-share"}),_("span",null,"Share"))),i&&e.list.link&&_(Pt,{link:e.list.link,title:e.list.title}),e.list.content&&_("p",{className:"mg-upc-dg-list-desc",dangerouslySetInnerHTML:{__html:e.list.content}}),_(ct,{count:3}),_(vt,{list:e.list,items:(null===(t=e.list)||void 0===t?void 0:t.items)||[],onMove:function(t){n(de(t.oldIndex,e.list,t.newIndex))},onRemove:function(t,e){n(re(e.post_id))},onSaveItemDescription:function(t,e,i){n(ue(e.post_id,{description:i}))},editable:Xe(e.list)}))),(!e.editing||!e.list)&&e.totalPages>1&&_(Ve,{totalPages:e.totalPages,page:e.page,onPreview:function(){p(e.page-1)},onNext:function(){p(e.page+1)},prevRef:l,nextRef:a}))))}),null)," "),document.querySelector("body")),"#my-lists"===location.hash&&(location.hash=""),window.addEventListener("hashchange",(function(){"#my-lists"===location.hash&&(window.showMyLists(),location.hash="")}),!1),window.mgUpcApiClient=Vt}()}();